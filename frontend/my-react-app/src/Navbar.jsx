"use client"
import { Link, useLocation } from "react-router-dom" // Import Link and useLocation from react-router-dom
import { useState, useEffect } from "react"

function Navbar({ activePage, setActivePage, toggleFilter, showFilter, selectedFilters, handleFilterChange }) {
  const [isNavbarOpen, setIsNavbarOpen] = useState(false)
  const location = useLocation()

  // Update active page based on current location
  useEffect(() => {
    const path = location.pathname
    if (path === "/" || path === "") {
      setActivePage("home")
    } else if (path === "/profile") {
      setActivePage("profile")
    } else if (path === "/tasks") {
      setActivePage("tasks")
    }
  }, [location, setActivePage])

  return (
    <nav className="navbar" onMouseEnter={() => setIsNavbarOpen(true)} onMouseLeave={() => setIsNavbarOpen(false)}>
      <div className="navbar-header">
        <h2 className="navbar-title">SYNC-OPS</h2>
        {!isNavbarOpen && (
          <svg
            className="navbar-logo"
            width="40px"
            height="40px"
            viewBox="-6.3 -6.3 33.60 33.60"
            version="1.1"
            xmlns="http://www.w3.org/2000/svg"
            xmlnsXlink="http://www.w3.org/1999/xlink"
            fill="#000000"
          >
            <g id="SVGRepo_bgCarrier" strokeWidth="0"></g>
            <g id="SVGRepo_tracerCarrier" strokeLinecap="round" strokeLinejoin="round"></g>
            <g id="SVGRepo_iconCarrier">
              {" "}
              <title>menu_navigation_grid [#1C274C]</title> <desc>Created with Sketch.</desc> <defs> </defs>{" "}
              <g id="Page-1" stroke="none" strokeWidth="1" fill="none" fillRule="evenodd">
                {" "}
                <g id="Dribbble-Light-Preview" transform="translate(-139.000000, -200.000000)" fill="#1C274C">
                  {" "}
                  <g id="icons" transform="translate(56.000000, 160.000000)">
                    {" "}
                    <path
                      d="M101.9,57.009 C101.9,57.56 101.38235,58 100.80275,58 L97.65275,58 C97.0742,58 96.65,57.56 96.65,57.009 L96.65,54.009 C96.65,53.458 97.0742,53 97.65275,53 L100.80275,53 C101.38235,53 101.9,53.458 101.9,54.009 L101.9,57.009 Z M100.80275,51 L97.65275,51 C95.9129,51 94.55,52.352 94.55,54.009 L94.55,57.009 C94.55,58.666 95.9129,60 97.65275,60 L100.80275,60 C102.5426,60 104,58.666 104,57.009 L104,54.009 C104,52.352 102.5426,51 100.80275,51 L100.80275,51 Z M90.35,57.009 C90.35,57.56 89.83235,58 89.25275,58 L86.10275,58 C85.5242,58 85.1,57.56 85.1,57.009 L85.1,54.009 C85.1,53.458 85.5242,53 86.10275,53 L89.25275,53 C89.83235,53 90.35,53.458 90.35,54.009 L90.35,57.009 Z M89.25275,51 L86.10275,51 C84.3629,51 83,52.352 83,54.009 L83,57.009 C83,58.666 84.3629,60 86.10275,60 L89.25275,60 C90.9926,60 92.45,58.666 92.45,57.009 L92.45,54.009 C92.45,52.352 90.9926,51 89.25275,51 L89.25275,51 Z M101.9,46.009 C101.9,46.56 101.38235,47 100.80275,47 L97.65275,47 C97.0742,47 96.65,46.56 96.65,46.009 L96.65,43.009 C96.65,42.458 97.0742,42 97.65275,42 L100.80275,42 C101.38235,42 101.9,42.458 101.9,43.009 L101.9,46.009 Z M100.80275,40 L97.65275,40 C95.9129,40 94.55,41.352 94.55,43.009 L94.55,46.009 C94.55,47.666 95.9129,49 97.65275,49 L100.80275,49 C102.5426,49 104,47.666 104,46.009 L104,43.009 C104,41.352 102.5426,40 100.80275,40 L100.80275,40 Z M90.35,46.009 C90.35,46.56 89.83235,47 89.25275,47 L86.10275,47 C85.5242,47 85.1,46.56 85.1,46.009 L85.1,43.009 C85.1,42.458 85.5242,42 86.10275,42 L89.25275,42 C89.83235,42 90.35,42.458 90.35,43.009 L90.35,46.009 Z M89.25275,40 L86.10275,40 C84.3629,40 83,41.352 83,43.009 L83,46.009 C83,47.666 84.3629,49 86.10275,49 L89.25275,49 C90.9926,49 92.45,47.666 92.45,46.009 L92.45,43.009 C92.45,41.352 90.9926,40 89.25275,40 L89.25275,40 Z"
                      id="menu_navigation_grid-[#1C274C]"
                    >
                      {" "}
                    </path>{" "}
                  </g>{" "}
                </g>{" "}
              </g>{" "}
            </g>
          </svg>
        )}
      </div>
      <ul>
        <li className={activePage === "home" ? "active" : ""} onClick={() => setActivePage("home")}>
          <i className="fas fa-home">
            <svg
              width="40px"
              height="40px"
              viewBox="-7.2 -7.2 38.40 38.40"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <g id="SVGRepo_bgCarrier" strokeWidth="0"></g>
              <g id="SVGRepo_tracerCarrier" strokeLinecap="round" strokeLinejoin="round"></g>
              <g id="SVGRepo_iconCarrier">
                {" "}
                <path
                  d="M22 12.2039V13.725C22 17.6258 22 19.5763 20.8284 20.7881C19.6569 22 17.7712 22 14 22H10C6.22876 22 4.34315 22 3.17157 20.7881C2 19.5763 2 17.6258 2 13.725V12.2039C2 9.91549 2 8.77128 2.5192 7.82274C3.0384 6.87421 3.98695 6.28551 5.88403 5.10813L7.88403 3.86687C9.88939 2.62229 10.8921 2 12 2C13.1079 2 14.1106 2.62229 16.116 3.86687L18.116 5.10812C20.0131 6.28551 20.9616 6.87421 21.4808 7.82274"
                  stroke="#1C274C"
                  strokeWidth="2.4"
                  strokeLinecap="round"
                ></path>{" "}
                <path d="M15 18H9" stroke="#1C274C" strokeWidth="2.4" strokeLinecap="round"></path>{" "}
              </g>
            </svg>
          </i>
          <span>
            <Link to="/" onClick={() => setIsNavbarOpen(false)}>
              Home
            </Link>
          </span>
        </li>
        <li className={activePage === "tasks" ? "active" : ""} onClick={() => setActivePage("tasks")}>
          {" "}
          <i className="fas fa-tasks">
            <svg
              fill="#1C274C"
              height="40px"
              width="40px"
              version="1.1"
              id="Layer_1"
              xmlns="http://www.w3.org/2000/svg"
              xmlnsXlink="http://www.w3.org/1999/xlink"
              viewBox="-153.6 -153.6 819.20 819.20"
              xmlSpace="preserve"
              stroke="#1C274C"
              strokeWidth="0.00512"
            >
              <g id="SVGRepo_bgCarrier" strokeWidth="0"></g>
              <g id="SVGRepo_tracerCarrier" strokeLinecap="round" strokeLinejoin="round"></g>
              <g id="SVGRepo_iconCarrier">
                {" "}
                <g>
                  {" "}
                  <g>
                    {" "}
                    <g>
                      {" "}
                      <path d="M448,288.61V89.259c0-25.734-20.858-46.592-46.592-46.592h-60.07V32.491C341.338,14.543,326.794,0,308.847,0H160.495 c-17.947,0-32.491,14.543-32.491,32.491v10.176H67.925c-25.734,0-46.592,20.858-46.592,46.592v376.149 c0,25.734,20.858,46.592,46.592,46.592h294.741c70.683,0,128-57.317,128-128C490.667,346.1,474.182,312.049,448,288.61z M170.671,42.667h127.996v42.667H170.671V42.667z M67.925,469.333c-2.17,0-3.925-1.755-3.925-3.925V89.259 c0-2.17,1.755-3.925,3.925-3.925H128v10.176C128,113.457,142.543,128,160.491,128h0.004h148.348h0.004 c17.947,0,32.491-14.543,32.491-32.491V85.333h60.07c2.17,0,3.925,1.755,3.925,3.925v174.037 c-10.845-3.834-22.359-6.247-34.322-7.018c-0.076-0.005-0.153-0.01-0.229-0.015c-0.766-0.048-1.533-0.092-2.302-0.126 c-0.428-0.02-0.857-0.033-1.286-0.049c-0.511-0.018-1.021-0.039-1.534-0.05c-0.996-0.024-1.994-0.038-2.994-0.038 c-70.683,0-128,57.317-128,128c0,1.066,0.014,2.128,0.04,3.188c0.009,0.354,0.026,0.706,0.037,1.059 c0.023,0.705,0.046,1.411,0.08,2.113c0.02,0.417,0.049,0.831,0.073,1.247c0.037,0.636,0.074,1.272,0.121,1.905 c0.032,0.441,0.072,0.88,0.109,1.32c0.051,0.605,0.102,1.21,0.161,1.812c0.044,0.452,0.094,0.902,0.143,1.352 c0.064,0.588,0.129,1.175,0.201,1.761c0.056,0.456,0.116,0.911,0.177,1.365c0.077,0.575,0.157,1.15,0.241,1.722 c0.068,0.458,0.138,0.914,0.21,1.371c0.09,0.569,0.185,1.137,0.282,1.703c0.078,0.452,0.157,0.903,0.24,1.353 c0.105,0.569,0.214,1.137,0.326,1.703c0.088,0.443,0.175,0.886,0.268,1.328c0.119,0.571,0.245,1.139,0.372,1.707 c0.097,0.433,0.192,0.867,0.293,1.299c0.135,0.578,0.279,1.154,0.422,1.729c0.104,0.416,0.204,0.832,0.312,1.246 c0.157,0.604,0.323,1.205,0.489,1.806c0.104,0.379,0.205,0.76,0.313,1.137c0.194,0.68,0.399,1.355,0.604,2.031 c0.09,0.295,0.174,0.592,0.266,0.886c0.302,0.967,0.614,1.929,0.937,2.886c0.045,0.134,0.095,0.266,0.14,0.4 c0.281,0.822,0.568,1.641,0.865,2.455c0.121,0.332,0.249,0.66,0.373,0.99c0.23,0.613,0.459,1.226,0.698,1.835 c0.148,0.376,0.302,0.75,0.453,1.124c0.225,0.557,0.449,1.115,0.682,1.669c0.165,0.393,0.336,0.783,0.504,1.174 c0.23,0.532,0.46,1.063,0.696,1.591c0.178,0.397,0.36,0.792,0.542,1.187c0.237,0.515,0.476,1.029,0.719,1.541 c0.19,0.399,0.384,0.796,0.578,1.193c0.246,0.504,0.495,1.006,0.748,1.505c0.2,0.395,0.402,0.789,0.606,1.181 c0.258,0.496,0.519,0.991,0.783,1.483c0.208,0.389,0.418,0.777,0.63,1.163c0.271,0.493,0.546,0.982,0.822,1.471 c0.215,0.379,0.43,0.759,0.649,1.136c0.285,0.491,0.575,0.978,0.866,1.465c0.22,0.368,0.439,0.737,0.662,1.102 c0.305,0.499,0.617,0.993,0.928,1.487c0.218,0.346,0.434,0.693,0.655,1.037c0.338,0.524,0.683,1.043,1.028,1.562 c0.204,0.307,0.405,0.617,0.612,0.922c0.41,0.605,0.828,1.203,1.248,1.8c0.15,0.214,0.297,0.431,0.448,0.644 c0.575,0.808,1.159,1.609,1.753,2.403c0.126,0.169,0.257,0.334,0.384,0.503c0.469,0.622,0.941,1.241,1.421,1.854 c0.222,0.284,0.451,0.562,0.675,0.844c0.392,0.492,0.784,0.984,1.184,1.47c0.256,0.311,0.516,0.617,0.775,0.926 c0.378,0.451,0.756,0.902,1.14,1.348c0.274,0.318,0.553,0.632,0.83,0.948c0.262,0.298,0.519,0.599,0.783,0.894H67.925z M362.667,469.333c-47.119,0-85.333-38.214-85.333-85.333s38.214-85.333,85.333-85.333c1.298,0,2.587,0.041,3.872,0.098 c0.658,0.031,1.314,0.077,1.969,0.123c0.517,0.035,1.033,0.073,1.547,0.118c15.797,1.418,30.758,7.358,43.753,17.174l6.478,4.893 C437.315,336.675,448,359.091,448,384C448,431.119,409.786,469.333,362.667,469.333z"></path>{" "}
                      <path d="M390.248,347.582l-27.582,27.582l-6.248-6.248c-8.331-8.331-21.839-8.331-30.17,0c-8.331,8.331-8.331,21.839,0,30.17 l21.333,21.333c8.331,8.331,21.839,8.331,30.17,0l42.667-42.667c8.331-8.331,8.331-21.839,0-30.17 C412.087,339.251,398.58,339.251,390.248,347.582z"></path>{" "}
                      <path d="M128,213.333h42.667c11.782,0,21.333-9.551,21.333-21.333s-9.551-21.333-21.333-21.333H128 c-11.782,0-21.333,9.551-21.333,21.333S116.218,213.333,128,213.333z"></path>{" "}
                      <path d="M256,213.333h85.333c11.782,0,21.333-9.551,21.333-21.333s-9.551-21.333-21.333-21.333H256 c-11.782,0-21.333,9.551-21.333,21.333S244.218,213.333,256,213.333z"></path>{" "}
                      <path d="M192,341.333h-85.333c-11.782,0-21.333,9.551-21.333,21.333S94.885,384,106.667,384H192 c11.782,0,21.333-9.551,21.333-21.333S203.782,341.333,192,341.333z"></path>{" "}
                      <path d="M128,298.667h106.667c11.782,0,21.333-9.551,21.333-21.333c0-11.782-9.551-21.333-21.333-21.333H128 c-11.782,0-21.333,9.551-21.333,21.333C106.667,289.115,116.218,298.667,128,298.667z"></path>{" "}
                    </g>{" "}
                  </g>{" "}
                </g>{" "}
              </g>
            </svg>
          </i>
          <span>
            <Link to="/tasks" onClick={() => setIsNavbarOpen(false)}>
              Tasks
            </Link>
          </span>
        </li>
        <li className={activePage === "profile" ? "active" : ""} onClick={() => setActivePage("profile")}>
          <i className="fas fa-cogs">
            <svg
              width="40px"
              height="40px"
              viewBox="-6 -6 32.00 32.00"
              version="1.1"
              xmlns="http://www.w3.org/2000/svg"
              xmlnsXlink="http://www.w3.org/1999/xlink"
              fill="#1C274C"
            >
              <g id="SVGRepo_bgCarrier" strokeWidth="0"></g>
              <g id="SVGRepo_tracerCarrier" strokeLinecap="round" strokeLinejoin="round"></g>
              <g id="SVGRepo_iconCarrier">
                {" "}
                <title>profile_round [#1C274C]</title> <desc>Created with Sketch.</desc> <defs> </defs>{" "}
                <g id="Page-1" strokeWidth="2" fill="none" fillRule="evenodd">
                  {" "}
                  <g id="Dribbble-Light-Preview" transform="translate(-380.000000, -2119.000000)" fill="#1C274C">
                    {" "}
                    <g id="icons" transform="translate(56.000000, 160.000000)">
                      {" "}
                      <path
                        d="M338.083123,1964.99998 C338.083123,1962.79398 336.251842,1960.99998 334,1960.99998 C331.748158,1960.99998 329.916877,1962.79398 329.916877,1964.99998 C329.916877,1967.20599 331.748158,1968.99999 334,1968.99999 C336.251842,1968.99999 338.083123,1967.20599 338.083123,1964.99998 M341.945758,1979 L340.124685,1979 C339.561214,1979 339.103904,1978.552 339.103904,1978 C339.103904,1977.448 339.561214,1977 340.124685,1977 L340.5626,1977 C341.26898,1977 341.790599,1976.303 341.523154,1975.662 C340.286989,1972.69799 337.383888,1970.99999 334,1970.99999 C330.616112,1970.99999 327.713011,1972.69799 326.476846,1975.662 C326.209401,1976.303 326.73102,1977 327.4374,1977 L327.875315,1977 C328.438786,1977 328.896096,1977.448 328.896096,1978 C328.896096,1978.552 328.438786,1979 327.875315,1979 L326.054242,1979 C324.778266,1979 323.773818,1977.857 324.044325,1976.636 C324.787453,1973.27699 327.107688,1970.79799 330.163906,1969.67299 C328.769519,1968.57399 327.875315,1966.88999 327.875315,1964.99998 C327.875315,1961.44898 331.023403,1958.61898 334.733941,1959.04198 C337.422678,1959.34798 339.650022,1961.44698 340.05323,1964.06998 C340.400296,1966.33099 339.456073,1968.39599 337.836094,1969.67299 C340.892312,1970.79799 343.212547,1973.27699 343.955675,1976.636 C344.226182,1977.857 343.221734,1979 341.945758,1979 M337.062342,1978 C337.062342,1978.552 336.605033,1979 336.041562,1979 L331.958438,1979 C331.394967,1979 330.937658,1978.552 330.937658,1978 C330.937658,1977.448 331.394967,1977 331.958438,1977 L336.041562,1977 C336.605033,1977 337.062342,1977.448 337.062342,1978"
                        id="profile_round-[#1C274C]"
                      >
                        {" "}
                      </path>{" "}
                    </g>{" "}
                  </g>{" "}
                </g>{" "}
              </g>
            </svg>
          </i>
          <span>
            <Link to="/profile" onClick={() => setIsNavbarOpen(false)}>
              Profile
            </Link>
          </span>
        </li>
        <li className={activePage === "logout" ? "active" : ""} onClick={() => setActivePage("logout")}>
          {" "}
          <i className="fas fa-sign-out-alt">
            <svg
              width="40px"
              height="40px"
              viewBox="-7.2 -7.2 38.40 38.40"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
              stroke="#1C274C"
              strokeWidth="0.00024000000000000003"
            >
              <g id="SVGRepo_bgCarrier" strokeWidth="0"></g>
              <g id="SVGRepo_tracerCarrier" strokeLinecap="round" strokeLinejoin="round"></g>
              <g id="SVGRepo_iconCarrier">
                {" "}
                <path
                  fillRule="evenodd"
                  clipRule="evenodd"
                  d="M16.125 12C16.125 11.5858 15.7892 11.25 15.375 11.25L4.40244 11.25L6.36309 9.56944C6.67759 9.29988 6.71401 8.8264 6.44444 8.51191C6.17488 8.19741 5.7014 8.16099 5.38691 8.43056L1.88691 11.4306C1.72067 11.573 1.625 11.7811 1.625 12C1.625 12.2189 1.72067 12.427 1.88691 12.5694L5.38691 15.5694C5.7014 15.839 6.17488 15.8026 6.44444 15.4881C6.71401 15.1736 6.67759 14.7001 6.36309 14.4306L4.40244 12.75L15.375 12.75C15.7892 12.75 16.125 12.4142 16.125 12Z"
                  fill="#1C274C"
                ></path>{" "}
                <path
                  d="M9.375 8C9.375 8.70219 9.375 9.05329 9.54351 9.3055C9.61648 9.41471 9.71025 9.50848 9.81946 9.58145C10.0717 9.74996 10.4228 9.74996 11.125 9.74996L15.375 9.74996C16.6176 9.74996 17.625 10.7573 17.625 12C17.625 13.2426 16.6176 14.25 15.375 14.25L11.125 14.25C10.4228 14.25 10.0716 14.25 9.8194 14.4185C9.71023 14.4915 9.6165 14.5852 9.54355 14.6944C9.375 14.9466 9.375 15.2977 9.375 16C9.375 18.8284 9.375 20.2426 10.2537 21.1213C11.1324 22 12.5464 22 15.3748 22L16.3748 22C19.2032 22 20.6174 22 21.4961 21.1213C22.3748 20.2426 22.3748 18.8284 22.3748 16L22.3748 8C22.3748 5.17158 22.3748 3.75736 21.4961 2.87868C20.6174 2 19.2032 2 16.3748 2L15.3748 2C12.5464 2 11.1324 2 10.2537 2.87868C9.375 3.75736 9.375 5.17157 9.375 8Z"
                  fill="#1C274C"
                ></path>{" "}
              </g>
            </svg>
          </i>
          <span>Logout</span>
        </li>
      </ul>
    </nav>
  )
}

export default Navbar
